<ion-app>
  <!-- Menú lateral -->
  <ion-menu contentId="main-content">
    <ion-header>
      <ion-toolbar color="tertiary">
        <ion-title>Menú</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-list>
        <!-- Botones del menú lateral -->
        <ion-item routerDirection="forward" (click)="navigateTo('/home')">
          <ion-label>Home</ion-label>
        </ion-item>
        <ion-item routerDirection="forward" (click)="navigateTo('/planificacion')">
          <ion-label>Cargar Planificación</ion-label>
        </ion-item>
        <ion-item routerDirection="forward" (click)="navigateTo('/bitacora')">
          <ion-label>Bitácora</ion-label>
        </ion-item>
        <ion-item routerDirection="forward" (click)="navigateTo('/vehiculo')">
          <ion-label>Vehículo</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>

  <!-- Contenido principal -->
  <div class="ion-page" id="main-content">
    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Estado de Vehículos</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content [fullscreen]="true" class="ion-padding estado-content">
      <div class="estado-wrapper">
        <!-- Grid de vehículos -->
        <div class="vehicles-grid">
          <ion-card *ngFor="let vehiculo of vehiculos; trackBy: trackByFn" class="vehicle-card">
            <ion-card-header>
              <ion-card-title class="text-center">{{ vehiculo.titulo }}</ion-card-title>
              <ion-card-subtitle class="text-center">
                <ion-text [color]="getStatusColor(vehiculo.estado)">
                  Estado: {{ vehiculo.estado }}
                </ion-text>
              </ion-card-subtitle>
              <ion-card-subtitle class="text-center">Lugar: {{ vehiculo.lugar }}</ion-card-subtitle>
            </ion-card-header>
            
            <ion-card-content>
              <ion-item lines="none">
                <ion-thumbnail slot="start">
                  <img [src]="vehiculo.imagen" alt="Vehículo">
                </ion-thumbnail>
                <ion-label>
                  <div class="button-container">
                    <!-- Botón Detalles -->
                    <ion-button expand="block" shape="round" fill="outline" (click)="goToDetalles(vehiculo)">
                      Detalles
                    </ion-button>
                    <!-- Botón Cancelar Viajes -->
                    <ion-button expand="block" shape="round" fill="outline" (click)="cancelarViajes(vehiculo)">
                      Cancelar Viajes
                    </ion-button>
                  </div>
                </ion-label>
              </ion-item>
            </ion-card-content>
          </ion-card>
        </div>

        <!-- Scroll infinito -->
        <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
          <ion-infinite-scroll-content loadingSpinner="bubbles"></ion-infinite-scroll-content>
        </ion-infinite-scroll>
      </div>
    </ion-content>
  </div>
</ion-app>